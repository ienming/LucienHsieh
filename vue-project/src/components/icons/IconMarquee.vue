<script setup>
import { onMounted, inject, ref, watch } from 'vue';
import { storeColor } from '@/store.js';
const usingMobile = inject('usingMobile')

const icon = ref(null)
onMounted(()=>{
    if (usingMobile.value){
        const path = icon.value.querySelector("path")
        const dynamicColor = getComputedStyle(document.documentElement).getPropertyValue('--luc-dynamic-text-color')
        path.setAttribute("stroke", dynamicColor)
    }
})

watch(storeColor, async(oldValue, newValue) => {
  console.log("change color")
  icon.value.style['fill'] = storeColor.bg
  icon.value.querySelector("path").style['stroke'] = storeColor.bg
})
</script>
<template>
    <svg ref="icon" width="79" height="70" viewBox="0 0 79 70" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M61.0712 42.1779L61.114 42.1463L61.1492 42.1064C63.328 39.6389 66.7283 38.3745 70.1825 39.0813C75.3227 40.1332 78.6369 45.1528 77.585 50.293C77.0467 52.9239 75.5089 54.631 75.2926 54.871L75.2926 54.871L75.2916 54.8722L75.2697 54.8966L75.266 54.9008C74.7768 55.4597 74.2936 55.8998 73.9824 56.1717C73.3288 56.7427 72.5978 57.2929 71.9591 57.7528C70.6346 58.7066 68.9886 59.7851 67.3906 60.7832C65.7775 61.7907 64.0791 62.8001 62.6136 63.614C61.8865 64.0179 61.1489 64.4114 60.4706 64.7436C60.0117 64.9683 58.89 65.5164 57.6675 65.844C56.9513 66.0359 56.0598 66.3398 54.6299 66.8285C53.3413 67.2689 51.6806 67.835 49.9574 68.3007C47.0016 69.0995 41.4267 70.3515 36.0452 68.0498C29.9452 65.4407 27.7179 59.8821 27.1192 55.9692C26.7399 53.4909 26.8519 50.9428 27.3359 48.5933L27.5264 47.6681L26.6542 48.0308C24.1366 49.0776 21.4104 49.7836 19.6074 50.25L19.6073 50.2501C19.2829 50.334 18.9869 50.4106 18.7288 50.4797C16.1331 51.1752 13.1704 51.2419 10.2476 50.078C7.40333 48.9454 5.52119 47.0149 4.34398 45.3541C2.41851 42.6375 1.54941 39.3441 1.19803 38.0071L1.19786 38.0065C1.17489 37.9191 1.15381 37.8389 1.13485 37.7681C-1.04593 29.6293 2.81443 23.5847 6.39231 20.0142C8.08517 18.3249 9.93116 16.9374 11.3455 15.9102C11.8795 15.5224 12.3328 15.1982 12.7317 14.9129L12.7318 14.9129L12.4409 14.5062L12.7318 14.9129L12.7407 14.9065C13.5716 14.3123 14.1757 13.8802 14.7767 13.3942C20.3971 8.84899 29.0566 3.1997 37.4154 0.959976C42.4833 -0.397972 47.6925 2.60956 49.0505 7.67749C49.7471 10.2772 49.2954 12.9133 48.0052 15.0492L47.5005 15.8848L48.4735 15.806C49.8835 15.6919 51.3689 15.6694 52.8347 15.81C55.1302 16.0302 58.8031 16.7705 61.8579 19.5971C65.3847 22.8605 66.4043 27.2771 65.9786 31.3023C65.5844 35.0294 63.5485 37.7958 62.4025 39.1873C61.6649 40.0831 60.8564 40.9219 60.0549 41.684L60.6889 42.4541C60.7461 42.4135 60.8018 42.3737 60.8559 42.3347C60.9363 42.2768 61.0079 42.2246 61.0712 42.1779Z" stroke="#252525"/>
    </svg>
</template>